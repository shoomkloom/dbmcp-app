<div class="main-container flex-column px-2 justify-content-center align-items-center">

    <!-- Message container for 'Copied!' feedback -->
    <div id="message-container" class="message-container"></div>

    <!-- Top section with logo and GitHub link -->
    <header class="d-flex justify-content-between align-items-center py-4 px-4">
        <!-- Logo -->
        <div class="logo-container mx-auto position-relative">
            <img src="assets/logo.png" alt="Company Logo" class="img-fluid logo-img">
        </div>
        <!-- GitHub Link -->
        <a href="https://github.com" target="_blank" class="github-link">
        <i class="fab fa-github me-2"></i>
        <span>GitHub</span>
        </a>
    </header>

    <!-- Main content sections -->
    <main class="py-1">
        <!-- Main Title -->
        <h1 class="main-title text-center">Instant DB MCP Server</h1>
        <h5 class="main-title mb-5 text-center">Currently supports MongoDB on Atlas</h5>

        <!-- Panel 1: MongoDB connection string -->
        <div class="card panel-card">
            <div class="card-body">
                <h5 class="panel-title">Paste your MongoDB connection string here (no password):</h5>
                <input type="text" id="mongodb-input" 
                    class="form-control" 
                    placeholder="e.g: mongodb+srv://username@cluster0.xxxxx.mongo"
                    [(ngModel)]="connectionString" (ngModelChange)="connectionStringChanged($event)" name="connectionString">
            </div>
        </div>

        <!-- Panel 2: MCP Server URL -->
        <div class="card panel-card">
            <div class="card-body">
                <h5 class="panel-title">Copy the MCP Server URL from here:</h5>
                <div class="input-group">
                    <div 
                        id="mcp-div"
                        class="form-control"
                        style="
                            background-color: #fff;
                            display: block;
                            white-space: pre-wrap;
                            word-break: break-word;
                            overflow-wrap: anywhere;
                        ">
                        {{ mcpUrl }}
                    </div>
                    <button class="btn btn-copy" type="button" (click)="copyToClipboard('mcp-div')">
                        <i class="far fa-copy"></i>
                    </button>
                </div>
            </div>
        </div>
        <!--
        <div class="card panel-card">
            <div class="card-body">
                <h5 class="panel-title">Copy the MCP Server URL from here:</h5>
                <div class="input-group">
                    <input type="text" 
                        id="mcp-input" 
                        class="form-control"
                        [(ngModel)]="mcpUrl" name="mcpUrl" #mcpUrl="ngModel">
                    <button class="btn btn-copy" type="button" (click)="copyToClipboard('mcp-input')">
                        <i class="far fa-copy"></i>
                    </button>
                </div>
            </div>
        </div>
        -->

        <!-- Panel 3: Connect your AI assistant -->
        <div class="card panel-card">
            <div class="card-body">
                <h5 class="panel-title">Connect your AI assistant</h5>
                <div class="button-grid">
                    <button class="btn assistant-btn" 
                        [class.active]="isActive('cursor')" 
                        (click)="setActive('cursor')"><img src="assets/cursor.png" class="mx-1">Cursor</button>
                    <button class="btn assistant-btn"
                        [class.active]="isActive('claude')" 
                        (click)="setActive('claude')"><img src="assets/claude.png" class="mx-1">Claude Desktop</button>
                    <button class="btn assistant-btn"
                        [class.active]="isActive('windsurf')" 
                        (click)="setActive('windsurf')"><img src="assets/windsurf.png" class="mx-1">Windsuf</button>
                    <button class="btn assistant-btn"
                        [class.active]="isActive('vscode')" 
                        (click)="setActive('vscode')"><img src="assets/vscode.png" class="mx-1">VSCode</button>
                    <button class="btn assistant-btn"
                        [class.active]="isActive('cline')" 
                        (click)="setActive('cline')"><img src="assets/cline.png" class="mx-1">Cline</button>
                    <button class="btn assistant-btn"
                        [class.active]="isActive('highlight')" 
                        (click)="setActive('highlight')"><img src="assets/highlight.png" class="mx-1">Highlight AI</button>
                    <button class="btn assistant-btn"
                        [class.active]="isActive('augment')" 
                        (click)="setActive('augment')"><img src="assets/augment.png" class="mx-1">Augment Code</button>
                    <button class="btn assistant-btn"
                        [class.active]="isActive('mysty')" 
                        (click)="setActive('mysty')"><img src="assets/msty.jpg" class="mx-1">Msty AI</button>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-2 mt-3">
                    <p class="code-title mb-0">To add this MCP to VSCode, update your <a href="#">.vscode/mcp.json</a> :</p>
                    <div class="code-actions">
                        <button class="btn btn-sm btn-action" (click)="copyCode()"><i class="far fa-copy"></i></button>
                    </div>
                </div>
                <div class="code-block" id="code-block-content">
                    <pre>
                        <code>{{ mcpJsonContent }}
                        </code>
                    </pre>
                </div>
            </div>
        </div>
    </main>

  <!-- Footer with links -->
  <footer class="footer-panel w-100">
    <div class="d-flex flex-wrap justify-content-center align-items-center h-100 px-5 gap-3">
      <a href="https://cursor.com/" target="_blank" class="footer-link"><img src="assets/cursor.png" class="mx-1">Cursor</a>
      <a href="https://claude.ai/" target="_blank" class="footer-link"><img src="assets/claude.png" class="mx-1">Claude</a>
      <a href="https://windsurf.com/editor/" target="_blank" class="footer-link"><img src="assets/windsurf.png" class="mx-1">Windsurf</a>
      <a href="https://code.visualstudio.com/" target="_blank" class="footer-link"><img src="assets/vscode.png" class="mx-1">VSCode</a>
      <a href="https://cline.bot/" target="_blank" class="footer-link"><img src="assets/cline.png" class="mx-1">Cline</a>
      <a href="https://highlight.io/" target="_blank" class="footer-link"><img src="assets/highlight.png" class="mx-1">Highlight AI</a>
      <a href="https://www.augmentcode.com/" target="_blank" class="footer-link"><img src="assets/augment.png" class="mx-1">Augment Code</a>
      <a href="https://msty.ai/" target="_blank" class="footer-link"><img src="assets/msty.jpg" class="mx-1">Msty AI</a>
    </div>
  </footer>
</div>